<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9704923124608570"
     crossorigin="anonymous"></script>
<head><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9704923124608570"
     crossorigin="anonymous"></script></head>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="col text-end">
        <aside>Bu uygulama D'Hondt sistemine göre dilediğiniz şehirdeki milletvekili sayısını hesaplar. Uygulamanın geliştirme süreci halen devam etmektedir. Verilere kesin gözüyle bakmayınız.</aside>
      </div>
</nav>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <div class="row">
      <div class="col text-end">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="#">Link 1</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link 2</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<div class="container">
  <div class="row">
    <div class="col text-end">
      <div class="grid">
        <div id="cevaplar"></div>
      </div>

    </div>
  </div>
</div>
<div class="container">
  <form id="myForm" onsubmit="event.preventDefault(); calculate();">
    <div class="form-group">
      <label for="iller">İl seçiniz:</label>
      <select id="iller" required class="form-control">
        <option value="" selected disabled hidden>Seçiniz</option>
        <option value="10">Manisa</option>
        <option value="600">İstanbul</option>
        <option value="8">Ankara</option><br><br>
        <!-- Diğer iller için de aynı şekilde devam edin -->
      </select>
    </div>
    <div class="form-group">
      <label for="Milletittifaki">Millet İttifakı:</label><br>
      <label for="parti1"><img src="chp.jpeg" alt="ikon" width="32" height="32" align="middle"> Cumhuriyet Halk Partisi:</label>
      <input type="number" id="parti1" name="parti1" placeholder="Değer giriniz" class="form-control"><br>
      <label for="parti2"><img src="iyi.png" alt="ikon" width="32" height="32" align="middle"> İYİ Parti:</label>
      <input type="number" id="parti2" name="parti2" class="form-control"><br>
      <label for="Milletittifaki">Cumhur İttifakı:</label><br>
      <label for="parti3"><img src="akp.png" alt="ikon" width="32" height="32" align="middle"> Adalet ve Kalkınma Partisi:</label>
      <input type="number" id="parti3" name="parti3" class="form-control"><br>
      <label for="parti4"><img src="mhp.png" alt="ikon" width="32" height="32" align="middle"> Milliyetçi Hareket Partisi:</label>
      <input type="number" id="parti4" name="parti4" class="form-control"><br>
      <!-- Diğer partiler için de aynı şekilde devam edin -->
    </div>
    <button type="submit" class="btn btn-primary">Hesapla</button>
  </form>
</div>
<head>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<div class="sidebar">
  <a class="active" href="#home">Home</a>
  <label for="vehicle" id="sonuclar"></label><br /> 
  <a href="sonuclar">sonuclar</a>
  <a href="#contact">Contact</a>
  <a href="#about">About</a>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>
  document.getElementById("myForm").addEventListener("submit", function(event){
    event.preventDefault()
  })
    window.onload = function () {
    var hesaplabutonu = document.querySelector(".btn-primary");
    hesaplabutonu.addEventListener("click", hesapla);
  };
  var iller = document.getElementById ("iller");
  iller.onchange = function () {
    // Seçilen ilin milletvekili sayısını al
    var mv = iller.value;
    // Milletvekili sayısını mvsayisi değişkenine ata
    mvsayisi = mv;
  };  
  function hesapla () {
    // Belirli bir seçiciye uyan tüm giriş alanlarını seç
    var partiler = document.querySelectorAll ("input[type=number]");
    // Giriş alanları üzerinde döngü ile gezin
    for (var i = 0; i < partiler.length; i++) {
      // Giriş alanının değerini sayıya dönüştür
      var oy = parseFloat (partiler[i].value);
      // Seçim barajını kontrol et
      if (oy < 7) {
        // Parti barajı geçemediyse oy oranını 0 yap
        partiler[i].value = 0;
        oy = 0;
      }
    }
    // Milletvekili sayısını belirle
    var mvsayisi = 10; // Örnek olarak 10 alındı
    // Partilere ayrılan milletvekili sayısını tutacak bir liste oluştur
    var mvlistesi = [];
    // Partiler listesi üzerinde döngü ile gezin
    for (var i = 0; i < partiler.length; i++) {
      // Her partiye başlangıçta 0 milletvekili ver
      mvlistesi.push (0);
    }
    // Milletvekili sayısı kadar döngü yap

    for (var i = 0; i < mvsayisi; i++) {
      // En yüksek N değerini ve hangi partiye ait olduğunu tutacak değişkenler oluştur
      var enyuksekN = -1;
      var enyuksekindex = -1;
      // Partiler listesi üzerinde döngü ile gezin
      for (var j = 0; j < partiler.length; j++) {
        // Partinin toplam oy sayısını al
        var V = parseFloat (partiler[j].value);
        // Partinin ayrılan milletvekili sayısını al
        var s = mvlistesi[j];
        // Partinin N değerini hesapla
        var N = V / (s+1);
        // Eğer N değeri en yüksek N değerinden büyükse
        if (N > enyuksekN) {
          // En yüksek N değerini ve indexini güncelle
          enyuksekN = N;
          enyuksekindex = j;
        }
      }
      // En yüksek N değerine sahip olan partiye bir milletvekili ver
      mvlistesi[enyuksekindex]++;
    }
    var sonuc = "";
    for (var i = 0; i < partiler.length; i++) { 
      sonuc += partiler[i].id + ": " + mvlistesi[i] + "<br>";
    }
      document.getElementById("sonuclar").innerHTML = sonuc;
    // Milletvekili listesini ekranda göster
    for (var i = 0; i < partiler.length; i++) { 
      //document.write (partiler[i].id + ": " + mvlistesi[i] + "<br>");
      // Partinin id'sini ve milletvekili sayısını yaz
      //alert(partiler[i].id + ": " + mvlistesi[i]);
      //document.getElementById("container").innerHTML = "Parti ID'si: " + partiler[i].id + ", Milletvekili Sayısı: " + mvlistesi[i] + "<br>";
      //var div = document.createElement("div");
      //div.innerHTML = partiler[i].id + ": " + mvlistesi[i];
      //document.getElementById("cevaplar").appendChild(div);
    }
  }
 
</script>
