<nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="col text-center">
        <aside>Bu uygulama D'Hondt sistemine göre dilediğiniz şehirdeki milletvekili sayısını hesaplar. Uygulamanın geliştirme süreci halen devam etmektedir. Verilere kesin gözüyle bakmayınız.</aside>
      </div>
</nav>
<!-- <nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <div class="row">
      <div class="col text-end">
        <ul class="navbar-nav">
          <div class="sidebar">
            <a class="active" href="#home">Home</a>
            <label for="vehicle" id="sonuclar"></label><br/> 
          
            <a href="#contact">Contact</a>
            <a href="#about">About</a>
          </div>
          <li class="nav-item">
            <a class="nav-link" href="#">Link 1</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link 2</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav> -->

<div class="container">
  <div class="row">
    <div class="col text-end">
      <div class="grid">
        <div id="cevaplar"></div>
      </div>
    </div>
  </div>
</div>
<br>
<div class="container">
  <form id="myForm" onsubmit="event.preventDefault(); calculate();">
    <div class="form-group row">
      
      <label for="iller" class="col-sm-2 col-form-label">İl seçiniz:</label>
      <div class="col-sm-10">
        <select id="iller" required class="form-control">
          <option value="" selected disabled hidden>Seçiniz</option>
          <option value="600">Türkiye Geneli</option>
          <option value="600">İstanbul</option>
          <option value="8">Ankara</option><br><br>
          <!-- Diğer iller için de aynı şekilde devam edin -->
        </select>
        <br>
      </div>
    </div>
    <div class="milletemek">
      <div class="grid-item"><label for="Milletittifaki">Millet İttifakı:</label></div>
      <div class="grid-item"><label for="Emekittifaki">Emek ve Özgürlük İttifakı:</label></div>
    </div>
    <div class="partimilletemek">  
      <div class="grid-item"><label for="Cumhuriyet Halk Partisi"><img src="res\chp.jpeg" alt="ikon" width="32" height="32" align="middle"> Cumhuriyet Halk Partisi:</label>
      <input type="number" id="Cumhuriyet Halk Partisi" name="Cumhuriyet Halk Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-item"><label for="İYİ Parti"><img src="res\iyi.png" alt="ikon" width="32" height="32" align="middle"> İYİ Parti:</label>
      <input type="number" id="İYİ Parti" name="İYİ Parti" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-item"><label for="Yeşil Sol Parti"><img src="res\ysp.png" alt="ikon" width="32" height="32" align="middle"> Yeşil Sol Parti:</label>
      <input type="number" id="Yeşil Sol Parti" name="Yeşil Sol Parti" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-item"><label for="Türkiye İşçi Partisi"><img src="res\tip.png" alt="ikon" width="32" height="32" align="middle"> Türkiye İşçi Partisi:</label>
      <input type="number" id="Türkiye İşçi Partisi" name="Türkiye İşçi Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
    </div>
    <div class="ittifakcumhur"> 
      <div class="grid-item"><label for="Cumhurittifaki">Cumhur İttifakı:</label></div>
    </div>
    <div class="particumhur"> 
      <div class="grid-item"><label for="AK Parti"><img src="res\akp.png" alt="ikon" width="32" height="32" align="middle"> AK Parti:</label>
      <input type="number" id="AK Parti" name="AK Parti" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-item"><label for="Milliyetçi Hareket Partisi"><img src="res\mhp.png" alt="ikon" width="32" height="32" align="middle"> Milliyetçi Hareket Partisi:</label>
      <input type="number" id="Milliyetçi Hareket Partisi" name="Milliyetçi Hareket Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-item"><label for="Yeniden Refah Partisi:"><img src="res\yrp.png" alt="ikon" width="32" height="32" align="middle"> Yeniden Refah Partisi:</label>
      <input type="number" id="Yeniden Refah Partisi" name="Yeniden Refah Partisi:" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-item"><label for="Büyük Birlik Partisi:"><img src="res\bbp.jpeg" alt="ikon" width="32" height="32" align="middle"> Büyük Birlik Partisi:</label>
      <input type="number" id="Büyük Birlik Partisi" name="Büyük Birlik Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
    </div>
    <div class="ittifakata"> 
      <div class="grid-item"><label for="Ataittifaki">Ata İttifakı:</label></div>
      <div class="grid-item"><label for="ittifaksiz">İttifaksız Partiler:</label></div>
    </div>
    <div class="partiata"> 
      <div class="grid-item"><label for="Zafer Partisi"><img src="res\zafer.jpg" alt="ikon" width="32" height="32" align="middle"> Zafer Partisi:</label>
      <input type="number" id="Zafer Partisi" name="Zafer Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-item"><label for="Adalet Partisi"><img src="res\ap.png" alt="ikon" width="32" height="32" align="middle"> Adalet Partisi:</label>
      <input type="number" id="Adalet Partisi" name="Adalet Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>

      <div class="grid-item"><label for="Memleket Partisi"><img src="res\mp.png" alt="ikon" width="32" height="32" align="middle"> Memleket Partisi:</label>
      <input type="number" id="Memleket Partisi" name="Memleket Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-item"><label for="Vatan Partisi"><img src="res\vp.png" alt="ikon" width="32" height="32" align="middle"> Vatan Partisi:</label>
      <input type="number" id="Vatan Partisi" name="Vatan Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>   
    </div>
    <div class="ittifaksizparti"> 
      <div class="grid-itempartiz"><label for="Genç Parti"><img src="res\gp.jpeg" alt="ikon" width="16" height="16" align="middle"> Genç Parti:</label>
      <input type="number" id="Genç Parti" name="Genç Parti" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Adalet Birlik Partisi"><img src="res\abp.png" alt="ikon" width="16" height="16" align="middle"> Adalet Birlik Partisi:</label>
      <input type="number" id="Adalet Birlik Partisi" name="Adalet Birlik Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Anavatan Partisi"><img src="res\anap.png" alt="ikon" width="16" height="16" align="middle"> Anavatan Partisi:</label>
      <input type="number" id="Anavatan Partisi" name="Anavatan Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Yenilik Partisi"><img src="res\yp.png" alt="ikon" width="16" height="16" align="middle"> Yenilik Partisi:</label>
      <input type="number" id="Yenilik Partisi" name="Yenilik Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Halkın Kurtuluş Partisi"><img src="res\hkp.jpg" alt="ikon" width="16" height="16" align="middle"> Halkın Kurtuluş Partisi:</label>
      <input type="number" id="Halkın Kurtuluş Partisi" name="Halkın Kurtuluş Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>

      <div class="grid-itempartiz"><label for="Milli Yol Partisi"><img src="res\myp.jpg" alt="ikon" width="16" height="16" align="middle"> Milli Yol Partisi:</label>
      <input type="number" id="Milli Yol Partisi" name="Milli Yol Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Güç Birliği Partisi"><img src="res\gbp.png" alt="ikon" width="16" height="16" align="middle"> Güç Birliği Partisi:</label>
      <input type="number" id="Güç Birliği Partisi" name="Güç Birliği Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Millet Partisi"><img src="res\mip.jpeg" alt="ikon" width="16" height="16" align="middle"> Millet Partisi:</label>
      <input type="number" id="Millet Partisi" name="Millet Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Hak ve Özgürlükler Partisi"><img src="res\hop.jpg" alt="ikon" width="16" height="16" align="middle"> Hak ve Özgürlükler Partisi:</label>
      <input type="number" id="Hak ve Özgürlükler Partisi" name="Hak ve Özgürlükler Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Türkiye Komünist Partisi"><img src="res\tkp.jpg" alt="ikon" width="16" height="16" align="middle"> Türkiye Komünist Partisi:</label>
      <input type="number" id="Türkiye Komünist Partisi" name="Türkiye Komünist Partisi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Türkiye Komünist Hareketi"><img src="res\tkh.png" alt="ikon" width="16" height="16" align="middle"> Türkiye Komünist Hareketi:</label>
      <input type="number" id="Türkiye Komünist Hareketi" name="Türkiye Komünist Hareketi" size="300" placeholder="Değer giriniz" class="form-control"></div>
      <div class="grid-itempartiz"><label for="Sol Parti"><img src="res\sp.png" alt="ikon" width="16" height="16" align="middle"> Sol Parti:</label>
      <input type="number" id="Sol Parti" name="Sol Parti" size="300" placeholder="Değer giriniz" align="bottom" class="form-control"></div>

    </div> 
    <div class="Hesaplagrid"> 
      <br>
      <button type="submit" class="btn btn-primary">Hesapla</button>
      <label for="vehicle" id="sonuclar"></label><br/> 
    </div>
    </div>

  </form>
</div>
<head>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>
  document.getElementById("myForm").addEventListener("submit", function(event){
    event.preventDefault()
  })
    window.onload = function () {
    var hesaplabutonu = document.querySelector(".btn-primary");
    hesaplabutonu.addEventListener("click", hesapla);
  };
  var iller = document.getElementById ("iller");
  iller.onchange = function () {
    // Seçilen ilin milletvekili sayısını al
    var mv = iller.value;
    // Milletvekili sayısını mvsayisi değişkenine ata
    mvsayisi = mv;
  };  
  function hesapla () {
    // Belirli bir seçiciye uyan tüm giriş alanlarını seç
    var partiler = document.querySelectorAll ("input[type=number]");
    // Giriş alanları üzerinde döngü ile gezin
    for (var i = 0; i < partiler.length; i++) {
      // Giriş alanının değerini sayıya dönüştür
      var oy = parseFloat (partiler[i].value);
      // Seçim barajını kontrol et
      //if (oy < 7) {
      if (oy < 7 && !partiler[i].name.includes("İYİ") && !partiler[i].name.includes("Milliyetçi") && !partiler[i].name.includes("Büyük") && !partiler[i].name.includes("Refah") && !partiler[i].name.includes("İşçi")) {
        // Parti barajı geçemediyse oy oranını 0 yap
        partiler[i].value = 0;
        oy = 0;
      }
    }
    // Milletvekili sayısını belirle
    //var mvsayisi = 10; // Örnek olarak 10 alındı
    // Partilere ayrılan milletvekili sayısını tutacak bir liste oluştur
    var mvlistesi = [];
    // Partiler listesi üzerinde döngü ile gezin
    for (var i = 0; i < partiler.length; i++) {
      // Her partiye başlangıçta 0 milletvekili ver
      mvlistesi.push (0);
    }
    // Milletvekili sayısı kadar döngü yap

    for (var i = 0; i < mvsayisi; i++) {
      // En yüksek N değerini ve hangi partiye ait olduğunu tutacak değişkenler oluştur
      var enyuksekN = -1;
      var enyuksekindex = -1;
      // Partiler listesi üzerinde döngü ile gezin
      for (var j = 0; j < partiler.length; j++) {
        // Partinin toplam oy sayısını al
        var V = parseFloat (partiler[j].value);
        // Partinin ayrılan milletvekili sayısını al
        var s = mvlistesi[j];
        // Partinin N değerini hesapla
        var N = V / (s+1);
        // Eğer N değeri en yüksek N değerinden büyükse
        if (N > enyuksekN) {
          // En yüksek N değerini ve indexini güncelle
          enyuksekN = N;
          enyuksekindex = j;
        }
      }
      // En yüksek N değerine sahip olan partiye bir milletvekili ver
      mvlistesi[enyuksekindex]++;
    }

    var sonuc = "";
    for (var i = 0; i < partiler.length; i++) { 
      sonuc += partiler[i].id + ": " + mvlistesi[i] + "<br>";
    }
      sonuc = sonuc.split("<br>").filter(function(e) { return e != "" }).sort(function(a,b) { return b.split(":")[1] - a.split(":")[1] }).join("<br>");
      document.getElementById("sonuclar").innerHTML = sonuc;
    // Milletvekili listesini ekranda göster
    //for (var i = 0; i < partiler.length; i++) { 
      //document.write (partiler[i].id + ": " + mvlistesi[i] + "<br>");
      // Partinin id'sini ve milletvekili sayısını yaz
      //alert(partiler[i].id + ": " + mvlistesi[i]);
      //document.getElementById("container").innerHTML = "Parti ID'si: " + partiler[i].id + ", Milletvekili Sayısı: " + mvlistesi[i] + "<br>";
      //var div = document.createElement("div");
      //div.innerHTML = partiler[i].id + ": " + mvlistesi[i];
      //document.getElementById("cevaplar").appendChild(div);
    //}
  }
 
</script>
